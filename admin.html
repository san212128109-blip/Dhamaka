<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
<style>
body{font-family:Arial;padding:20px;}
.box{border:1px solid #ddd;padding:15px;margin-bottom:15px;border-radius:10px;}
</style>
</head>
<body>

<h2>Admin Panel</h2>

<h3>Vendor Accounts</h3>
<div id="vendorList"></div>

<hr>
<h3>Upload Homepage Banners</h3>
<input type="text" id="bannerURL" placeholder="Enter Banner Image URL" style="width:70%;padding:8px;">
<button onclick="addBanner()">Add Banner</button>
<div id="bannerShow"></div>

<script>
// ==================== VENDOR LIST LOADING ===================
function loadVendors(){
    let vendors = JSON.parse(localStorage.getItem("vendors")) || {};
    let html = "";

    for(let id in vendors){
        html += `
        <div class="box">
            <b>ID:</b> ${id}<br>
            <b>Status:</b> ${vendors[id].approved ? "Approved" : "Pending"}<br><br>
            <button onclick="approveVendor('${id}')">Approve</button>
            <button onclick="denyVendor('${id}')">Deny</button>
        </div>
        `;
    }

    document.getElementById("vendorList").innerHTML = html;
}
loadVendors();

// ==================== APPROVE / DENY ===================
function approveVendor(id){
    let vendors = JSON.parse(localStorage.getItem("vendors"));
    vendors[id].approved = true;
    localStorage.setItem("vendors", JSON.stringify(vendors));
    loadVendors();
}

function denyVendor(id){
    let vendors = JSON.parse(localStorage.getItem("vendors"));
    delete vendors[id];
    localStorage.setItem("vendors", JSON.stringify(vendors));
    loadVendors();
}

// ==================== BANNER SYSTEM ===================
function loadBanners(){
    let banners = JSON.parse(localStorage.getItem("banners")) || [];
    let html = "";

    banners.forEach((b,i)=>{
        html += `<div class="box"><img src="${b}" style="width:100%;border-radius:8px;"><br><button onclick="removeBanner(${i})">Delete</button></div>`;
    });

    document.getElementById("bannerShow").innerHTML = html;
}
loadBanners();

function addBanner(){
    let url = document.getElementById("bannerURL").value;
    if(url=="") return;

    let banners = JSON.parse(localStorage.getItem("banners")) || [];
    banners.push(url);
    localStorage.setItem("banners", JSON.stringify(banners));
    document.getElementById("bannerURL").value = "";
    loadBanners();
}

function removeBanner(i){
    let banners = JSON.parse(localStorage.getItem("banners"));
    banners.splice(i,1);
    localStorage.setItem("banners", JSON.stringify(banners));
    loadBanners();
}
</script>

</body>
</html>
