<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:0;background:#f8f9fa;color:#333;transition:0.3s;}
header{background:#28a745;color:white;padding:1em;text-align:center;}
nav{display:flex;justify-content:center;gap:10px;margin:10px;}
nav button{padding:0.5em 1em;cursor:pointer;border:none;border-radius:5px;background:#007bff;color:white;}
nav button:hover{background:#0056b3;}
.page{display:none;padding:1em;}
input,select{padding:0.5em;margin:0.3em 0;width:90%;border-radius:5px;border:1px solid #ccc;}
.product-list, .review-list{display:flex;flex-wrap:wrap;gap:10px;}
.product, .review{border:1px solid #ccc;border-radius:8px;padding:10px;width:200px;background:white;}
.color-input{width:100px;}
</style>
</head>
<body>

<header><h1>Admin Panel</h1></header>
<nav>
<button onclick="showPage('products')">Products</button>
<button onclick="showPage('reviews')">Customer Reviews</button>
<button onclick="showPage('theme')">Theme</button>
</nav>

<!-- Products Page -->
<div id="products" class="page">
<h2>All Products</h2>
<div id="productList" class="product-list"></div>
</div>

<!-- Reviews Page -->
<div id="reviews" class="page">
<h2>Customer Reviews</h2>
<div id="reviewList" class="review-list"></div>
</div>

<!-- Theme Page -->
<div id="theme" class="page">
<h2>Customize Theme</h2>
<label>Background Color: <input type="color" id="bgColor" class="color-input"></label><br>
<label>Text Color: <input type="color" id="textColor" class="color-input"></label><br>
<label>Button Color: <input type="color" id="btnColor" class="color-input"></label><br>
<label>Button Text Color: <input type="color" id="btnTextColor" class="color-input"></label><br>
<button onclick="applyTheme()">Apply Theme</button>
</div>

<script>
const adminPass = "NAFIS128";
let password = prompt("Enter admin password:");
if(password !== adminPass){ alert("Incorrect password"); document.body.innerHTML="<h2>Access Denied</h2>"; throw "Access Denied"; }

showPage('products');
function showPage(page){document.querySelectorAll('.page').forEach(p=>p.style.display='none'); document.getElementById(page).style.display='block';}

// LocalStorage data
let products = JSON.parse(localStorage.getItem('products')||'[]');
let reviews = JSON.parse(localStorage.getItem('reviews')||'[]');
let theme = JSON.parse(localStorage.getItem('theme')||'{}');

// Render Products
function renderProducts(){
  const list = document.getElementById('productList');
  list.innerHTML='';
  products.forEach((p,i)=>{
    const div = document.createElement('div'); div.className='product';
    div.innerHTML=`<strong>${p.name}</strong><br>
    Price: $<input type="number" value="${p.price}" onchange="updatePrice(${i},this.value)"><br>
    Stock: <input type="number" value="${p.stock}" onchange="updateStock(${i},this.value)"><br>
    Vendor: ${p.vendor}<br>
    Approved: ${p.approved ? 'Yes':'No'}<br>
    <button onclick="approveProduct(${i})">Approve</button>
    <button onclick="deleteProduct(${i})">Delete</button>`;
    list.appendChild(div);
  });
}

// Product actions
function approveProduct(i){ products[i].approved=true; localStorage.setItem('products',JSON.stringify(products)); renderProducts(); }
function deleteProduct(i){ products.splice(i,1); localStorage.setItem('products',JSON.stringify(products)); renderProducts(); }
function updatePrice(i,val){ products[i].price=Number(val); localStorage.setItem('products',JSON.stringify(products)); }
function updateStock(i,val){ products[i].stock=Number(val); localStorage.setItem('products',JSON.stringify(products)); }

// Render Reviews
function renderReviews(){
  const list = document.getElementById('reviewList');
  list.innerHTML='';
  reviews.forEach((r,i)=>{
    const div = document.createElement('div'); div.className='review';
    div.innerHTML=`<strong>${r.customer}</strong> on ${r.product}<br>
    Rating: ${r.rating}â˜…<br>
    "${r.comment}"<br>
    <button onclick="deleteReview(${i})">Delete</button>`;
    list.appendChild(div);
  });
}
function deleteReview(i){ reviews.splice(i,1); localStorage.setItem('reviews',JSON.stringify(reviews)); renderReviews(); }

// Theme
function applyTheme(){
  const bg = document.getElementById('bgColor').value;
  const text = document.getElementById('textColor').value;
  const btn = document.getElementById('btnColor').value;
  const btnText = document.getElementById('btnTextColor').value;
  document.body.style.background=bg;
  document.body.style.color=text;
  document.querySelectorAll('button').forEach(b=>{b.style.background=btn; b.style.color=btnText;});
  theme = {bg,text,btn,btnText};
  localStorage.setItem('theme',JSON.stringify(theme));
}

// Apply saved theme
if(theme.bg){ document.body.style.background=theme.bg; document.body.style.color=theme.text; 
document.querySelectorAll('button').forEach(b=>{b.style.background=theme.btn; b.style.color=theme.btnText;}); }

// Initial render
renderProducts();
renderReviews();
</script>

</body>
</html>
