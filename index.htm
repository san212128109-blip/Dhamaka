<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dhamaka Daily Items - Drag & Drop Cart</title>
<style>
/* ===== Global Styles ===== */
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:Arial,sans-serif;background:#d4edda;color:#155724;transition:0.3s;scroll-behavior:smooth;}
body.dark{background:#121212;color:#ddd;}
header{background:#28a745;color:white;padding:1em;display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;position:sticky;top:0;z-index:10;}
header h1{margin:0;font-size:1.5em;}
nav{display:flex;align-items:center;flex-wrap:wrap;}
nav a{color:white;margin-left:1em;text-decoration:none;font-weight:bold;transition:0.3s;position:relative;}
nav a:hover{text-decoration:underline;color:#ffc107;}
nav #cartLink::after{content:attr(data-count);position:absolute;top:-10px;right:-10px;background:red;color:white;width:20px;height:20px;text-align:center;line-height:20px;border-radius:50%;font-size:0.8em;display:inline-block;}
nav button{margin-left:1em;cursor:pointer;}
.page{display:none;padding:1em;}
h1,h2,h3{text-align:center;margin-bottom:0.5em;}
.product-list,.cart-list{display:flex;flex-wrap:wrap;gap:1em;justify-content:center;margin-top:1em;}
.product{border:1px solid #28a745;border-radius:12px;padding:1em;width:200px;text-align:center;background:#fff;box-shadow:2px2px10px rgba(0,0,0,0.1);transition:0.3s;position:relative;overflow:hidden;}
.product:hover{transform:scale(1.05);box-shadow:4px4px15px rgba(0,0,0,0.2);}
.product img{transition: transform 0.3s;}
.product:hover img{transform:scale(1.2);}
.badge{position:absolute;top:10px;left:10px;background:#ffc107;color:#000;padding:2px 6px;border-radius:4px;font-size:0.8em;animation:bounce 1s infinite alternate;}
@keyframes bounce{0%{transform:translateY(0);}100%{transform:translateY(-5px);}}
button{background:#28a745;color:white;border:none;padding:0.5em 1em;border-radius:5px;cursor:pointer;margin-top:0.5em;transition:0.3s;}
button:hover{background:#218838;}
input,select{padding:0.5em;margin:0.3em 0;width:90%;border-radius:5px;border:1px solid #ccc;}
#cartSummary{text-align:center;margin-top:1em;font-weight:bold;}
.carousel{display:flex;overflow:hidden;width:90%;margin:1em auto;position:relative;border-radius:12px;}
.carousel img{width:100%;border-radius:12px;transition:transform 0.5s;}
.star{color:gold;font-size:1em;cursor:pointer;}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;animation:fadeIn 0.3s;}
.modal-content{background:#fff;padding:1em;border-radius:12px;width:90%;max-width:400px;text-align:center;}
.modal button{width:45%;margin:0.5em;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
.category-icon{width:24px;height:24px;vertical-align:middle;margin-right:5px;}
.mini-carousel{display:flex;overflow-x:auto;gap:10px;margin:10px 0;}
.mini-carousel img{width:100px;height:100px;object-fit:cover;border-radius:8px;transition:0.3s;}
.mini-carousel img:hover{transform:scale(1.1);}
.cart-list .product{width:90%;cursor:grab;}
.cart-list .product.dragging{opacity:0.5;border:2px dashed #28a745;}
@media(max-width:600px){ .product{width:45%; } header{flex-direction:column;align-items:flex-start;} nav a{margin:0.3em 0;} .mini-carousel img{width:80px;height:80px;} }
</style>
</head>
<body>

<header>
<h1>Dhamaka Daily Items</h1>
<nav>
<a href="#home" onclick="showPage('home')">Home</a>
<a href="#categories" onclick="showPage('categories')">Categories</a>
<a id="cartLink" href="#cart" data-count="0" onclick="showPage('cart')">Cart</a>
<a href="#admin" onclick="showPage('adminLogin')">Admin</a>
<button onclick="toggleDarkMode()">ðŸŒ™</button>
</nav>
</header>

<!-- Pages -->
<div id="home" class="page">
<h2>Featured Products</h2>
<div class="carousel" id="carousel"></div>
<div class="product-list" id="homeList"></div>
</div>

<div id="categories" class="page">
<h2>Categories</h2>
<div id="categoryCarousels"></div>
<select id="categoryFilter" onchange="filterCategory()"><option value="All">All</option></select>
<input type="text" id="searchInput" placeholder="Search Products..." oninput="filterCategory()">
<select id="sortSelect" onchange="filterCategory()">
<option value="">Sort By</option>
<option value="price-asc">Price Lowâ†’High</option>
<option value="price-desc">Price Highâ†’Low</option>
<option value="name-asc">Name Aâ†’Z</option>
<option value="name-desc">Name Zâ†’A</option>
</select>
<div class="product-list" id="categoryList"></div>
</div>

<div id="cart" class="page">
<h2>Your Cart</h2>
<div class="cart-list" id="cartList"></div>
<div id="cartSummary"></div>
<button onclick="checkout()">Checkout</button>
</div>

<div id="adminLogin" class="page">
<h2>Admin Login</h2>
<input type="password" id="adminPass" placeholder="Enter Admin Password">
<button onclick="checkAdminPass()">Login</button>
<p id="loginMsg" style="color:red;"></p>
</div>

<div id="adminPanel" class="page">
<h2>Admin Panel</h2>
<form id="addProductForm">
<input type="text" id="productName" placeholder="Product Name" required>
<input type="number" id="productPrice" placeholder="Price" required>
<input type="text" id="productImage" placeholder="Image URL" required>
<select id="productCategory" required>
<option value="Electronics">Electronics</option>
<option value="Clothing">Clothing</option>
<option value="Home">Home & Living</option>
</select>
<select id="productBadge">
<option value="">None</option>
<option value="New">New</option>
<option value="Sale">Sale</option>
<option value="Hot">Hot</option>
</select>
<button type="submit">Add Product</button>
</form>
<h3>Products</h3>
<div class="product-list" id="adminList"></div>
</div>

<div id="paymentModal" class="modal">
<div class="modal-content">
<h3>Payment</h3>
<p id="paymentTotal"></p>
<input type="number" id="paymentInput" placeholder="Enter payment amount">
<div>
<button onclick="confirmPayment()">Pay</button>
<button onclick="closePayment()">Cancel</button>
</div>
</div>
</div>

<script>
// ===== JS Inline =====
function showPage(page){ document.querySelectorAll('.page').forEach(p=>p.style.display='none'); document.getElementById(page).style.display='block'; }
showPage('home');
function toggleDarkMode(){ document.body.classList.toggle('dark'); }

let defaultProducts=[
{name:"Smartphone",price:300,image:"https://via.placeholder.com/150",category:"Electronics",rating:4,badge:"New"},
{name:"T-Shirt",price:20,image:"https://via.placeholder.com/150",category:"Clothing",rating:5,badge:"Sale"},
{name:"Sofa",price:200,image:"https://via.placeholder.com/150",category:"Home",rating:3,badge:""},
{name:"Laptop",price:800,image:"https://via.placeholder.com/150",category:"Electronics",rating:4,badge:"Hot"},
{name:"Jeans",price:40,image:"https://via.placeholder.com/150",category:"Clothing",rating:4,badge:""},
{name:"Headphones",price:50,image:"https://via.placeholder.com/150",category:"Electronics",rating:5,badge:"New"}
];

let products=JSON.parse(localStorage.getItem("products")||JSON.stringify(defaultProducts));
let cart=JSON.parse(localStorage.getItem("cart")||"[]");

const homeList=document.getElementById("homeList");
const categoryList=document.getElementById("categoryList");
const cartList=document.getElementById("cartList");
const cartSummary=document.getElementById("cartSummary");
const carousel=document.getElementById("carousel");
const adminList=document.getElementById("adminList");
const paymentModal=document.getElementById("paymentModal");
const paymentTotal=document.getElementById("paymentTotal");
const paymentInput=document.getElementById("paymentInput");
const cartLink=document.getElementById("cartLink");
const categoryCarousels=document.getElementById("categoryCarousels");

function renderProducts(list, arr){
list.innerHTML='';
if(arr.length===0){ list.innerHTML="<p>No products.</p>"; return; }
arr.forEach((p,i)=>{
const div=document.createElement('div'); div.className='product';
let stars=''; for(let s=1;s<=5;s++){ stars += s<=p.rating ? 'â˜…':'â˜†'; }
let badgeHTML=p.badge?`<div class="badge">${p.badge}</div>`:'';
div.innerHTML=`${badgeHTML}<img src="${p.image}" width="150"><h3>${p.name}</h3>
<p>Category: ${p.category}</p><p>$${p.price}</p><p>${stars}</p>
<button onclick="addToCart(${i})">Add to Cart</button>`;
list.appendChild(div);
});
updateCartBadge();
}

function updateCartBadge(){ cartLink.setAttribute('data-count',cart.length); }

let carouselIdx=0;
function renderCarousel(){ carousel.innerHTML=''; products.slice(0,3).forEach(p=>{
const img=document.createElement('img'); img.src=p.image; carousel.appendChild(img);
}); carouselSlide(); }
function carouselSlide(){ setInterval(()=>{ const imgs=carousel.querySelectorAll('img'); imgs.forEach((img,i)=>{ img.style.transform=`translateX(-${carouselIdx*100}%)`; }); carouselIdx=(carouselIdx+1)%3; },3000); }

function renderCart(){
cartList.innerHTML='';
if(cart.length===0){ cartList.innerHTML="<p>Cart is empty.</p>"; cartSummary.innerText=''; return; }
cart.forEach((p,i)=>{
const div=document.createElement('div'); div.className='product'; div.draggable=true;
div.dataset.index=i;
div.innerHTML=`<p>${p.name} - $<span class="price">${p.price}</span></p>
<input type="number" value="1" min="1" onchange="updateQuantity(${i},this.value)">
<button onclick="removeFromCart(${i})">Remove</button>`;
cartList.appendChild(div);
});
initDragDrop();
updateCartTotal();
updateCartBadge();
}

function addToCart(i){ cart.push({...products[i]}); localStorage.setItem("cart",JSON.stringify(cart)); alert("Added to cart!"); renderCart(); }
function removeFromCart(i){ cart.splice(i,1); localStorage.setItem("cart",JSON.stringify(cart)); renderCart(); }
function updateQuantity(i,val){ cart[i].price=Number(cart[i].price)*Number(val); localStorage.setItem("cart",JSON.stringify(cart)); updateCartTotal(); }

function updateCartTotal(){ let total=0;
cart.forEach(p=>{ total+=Number(p.price); });
cartSummary.innerText=`Total: $${total}`; }

function initDragDrop(){
let dragSrcEl=null;
cartList.querySelectorAll('.product').forEach(item=>{
item.addEventListener('dragstart',function(e){ dragSrcEl=this; this.classList.add('dragging'); });
item.addEventListener('dragend',function(e){ this.classList.remove('dragging'); });
item.addEventListener('dragover',function(e){ e.preventDefault(); });
item.addEventListener('drop',function(e){ e.preventDefault();
if(dragSrcEl!==this){
let srcIndex=dragSrcEl.dataset.index, targetIndex=this.dataset.index;
[cart[srcIndex],cart[targetIndex]]=[cart[targetIndex],cart[srcIndex]];
localStorage.setItem("cart",JSON.stringify(cart)); renderCart();
}
});
});
}

// Payment
function checkout(){ if(cart.length===0){ alert("Cart empty!"); return; }
let total=cart.reduce((a,b)=>a+Number(b.price),0); paymentTotal.innerText=`Total: $${total}`; paymentInput.value=''; paymentModal.style.display='flex'; }
function closePayment(){ paymentModal.style.display='none'; }
function confirmPayment(){ let pay=Number(paymentInput.value); let total=cart.reduce((a,b)=>a+Number(b.price),0);
if(pay>=total){ alert("Payment successful! Thank you for your order."); cart=[]; localStorage.setItem("cart",JSON.stringify(cart)); renderCart(); closePayment(); }
else{ alert("Payment failed. Insufficient amount."); }}

// Category Filter & Carousels
function renderCategoryFilter(){ const catSet=new Set(products.map(p=>p.category)); const select=document.getElementById("categoryFilter");
select.innerHTML='<option value="All">All</option>'; catSet.forEach(c=>{ const o=document.createElement('option'); o.value=c;o.innerText=c; select.appendChild(o); }); renderCategoryCarousels(); }
function filterCategory(){ let filtered=[...products]; const cat=document.getElementById("categoryFilter").value; if(cat!=='All'){ filtered=filtered.filter(p=>p.category===cat); }
const search=document.getElementById("searchInput").value.toLowerCase(); if(search){ filtered=filtered.filter(p=>p.name.toLowerCase().includes(search)); }
const sort=document.getElementById("sortSelect").value;
if(sort==='price-asc'){ filtered.sort((a,b)=>a.price-b.price); }
else if(sort==='price-desc'){ filtered.sort((a,b)=>b.price-a.price); }
else if(sort==='name-asc'){ filtered.sort((a,b)=>a.name.localeCompare(b.name)); }
else if(sort==='name-desc'){ filtered.sort((a,b)=>b.name.localeCompare(a.name)); }
renderProducts(categoryList,filtered); }

function renderCategoryCarousels(){
categoryCarousels.innerHTML='';
let catSet=[...new Set(products.map(p=>p.category))];
catSet.forEach(cat=>{
let div=document.createElement('div');
div.innerHTML=`<h3><img class="category-icon" src="https://via.placeholder.com/24" alt="${cat}">${cat}</h3><div class="mini-carousel"></div>`;
categoryCarousels.appendChild(div);
let miniDiv=div.querySelector('.mini-carousel');
products.filter(p=>p.category===cat).forEach(p=>{
let img=document.createElement('img'); img.src=p.image; img.title=p.name; miniDiv.appendChild(img);
});
});
}

// Admin
function checkAdminPass(){ let pass=document.getElementById("adminPass").value;
if(pass==="NAFIS128"){ showPage('adminPanel'); renderAdmin(); } else{ document.getElementById("loginMsg").innerText="Wrong password!"; } }
document.getElementById("addProductForm").addEventListener("submit",function(e){
e.preventDefault(); const name=document.getElementById("productName").value;
const price=document.getElementById("productPrice").value;
const image=document.getElementById("productImage").value;
const category=document.getElementById("productCategory").value;
const badge=document.getElementById("productBadge").value;
products.push({name,price,image,category,rating:5,badge}); localStorage.setItem("products",JSON.stringify(products));
this.reset(); renderAdmin(); renderProducts(homeList,products); renderProducts(categoryList,products); renderCategoryCarousels(); });
function renderAdmin(){ adminList.innerHTML=''; products.forEach((p,i)=>{ const div=document.createElement('div'); div.className='product';
let badgeHTML=p.badge?`<div class="badge">${p.badge}</div>`:''; div.innerHTML=`${badgeHTML}<img src="${p.image}" width="100"><strong>${p.name}</strong><br>Category: ${p.category}<br>Price: $${p.price}<br>
<button onclick="editProduct(${i})">Edit</button> <button onclick="deleteProduct(${i})">Delete</button>`; adminList.appendChild(div); }); }
function deleteProduct(i){ if(confirm("Delete product?")){ products.splice(i,1); localStorage.setItem("products",JSON.stringify(products)); renderAdmin(); renderProducts(homeList,products); renderProducts(categoryList,products); renderCategoryCarousels(); } }
function editProduct(i){ const p=products[i]; const newName=prompt("Edit Name:",p.name); const newPrice=prompt("Edit Price:",p.price);
const newImage=prompt("Edit Image URL:",p.image); const newCategory=prompt("Edit Category:",p.category); const newBadge=prompt("Edit Badge:",p.badge);
if(newName && newPrice && newImage && newCategory){ products[i]={name:newName,price:newPrice,image:newImage,category:newCategory,rating:p.rating,badge:newBadge}; localStorage.setItem("products",JSON.stringify(products)); renderAdmin(); renderProducts(homeList,products); renderProducts(categoryList,products); renderCategoryCarousels(); }}

// Initial Render
renderProducts(homeList,products);
renderProducts(categoryList,products);
renderCart();
renderCarousel();
renderCategoryFilter();
renderCategoryCarousels();
</script>
</body>
</html>
